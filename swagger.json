{
  "openapi": "3.0.1",
  "info": {
    "title": "ASP.NETCore_suvlo",
    "contact": {
      "name": "GJusz",
      "email": "gkjuszczyk@gmail.com"
    },
    "version": "v1"
  },
  "paths": {
    "/api/Auth/ConfirmEmail": {
      "post": {
        "tags": [
          "ConfirmEmail"
        ],
        "summary": "Confirms email using provided userid and code",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ConfirmEmailInputModel"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ConfirmEmailInputModel"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ConfirmEmailInputModel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    },
    "/api/Auth/ExternalLogin": {
      "get": {
        "tags": [
          "ExternalLogin"
        ],
        "summary": "Challenges user using external provider",
        "parameters": [
          {
            "name": "provider",
            "in": "query",
            "description": "",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "returnUrl",
            "in": "query",
            "description": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    },
    "/api/Auth/ExternalLogin/Callback": {
      "get": {
        "tags": [
          "ExternalLogin"
        ],
        "summary": "Callback executed when external auth provider redirects back to app",
        "parameters": [
          {
            "name": "returnUrl",
            "in": "query",
            "description": "",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "remoteError",
            "in": "query",
            "description": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    },
    "/api/Auth/ExternalLogin/CreateAccount": {
      "post": {
        "tags": [
          "ExternalLogin"
        ],
        "summary": "Endpoint used for creating accounts when there's no account associated with external login",
        "parameters": [
          {
            "name": "returnUrl",
            "in": "query",
            "description": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ExternalLoginRegisterInputModel"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ExternalLoginRegisterInputModel"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ExternalLoginRegisterInputModel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    },
    "/api/Auth/ForgotPassword": {
      "post": {
        "tags": [
          "ForgotPassword"
        ],
        "summary": "Sends password reset email based on given email",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ForgotPasswordInputModel"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ForgotPasswordInputModel"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ForgotPasswordInputModel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    },
    "/api/Auth/Login": {
      "post": {
        "tags": [
          "Login"
        ],
        "summary": "Endpoint used to log user in based on username, password",
        "parameters": [
          {
            "name": "returnUrl",
            "in": "query",
            "description": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginInputModel"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginInputModel"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginInputModel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginResult"
                }
              }
            }
          }
        }
      }
    },
    "/ClearExternalCookies": {
      "post": {
        "tags": [
          "Login"
        ],
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    },
    "/api/Auth/Login2FA": {
      "post": {
        "tags": [
          "Login2FA"
        ],
        "summary": "Logs user in based on 2FA code",
        "parameters": [
          {
            "name": "returnUrl",
            "in": "query",
            "description": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.Login2FAInputModel"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.Login2FAInputModel"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.Login2FAInputModel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/LoginWithRecoveryCode": {
      "post": {
        "tags": [
          "LoginWithRecoveryCode"
        ],
        "summary": "Logins user using 2fa recovery code",
        "description": "Also sanitizes returnurl. Who could've thought",
        "parameters": [
          {
            "name": "returnUrl",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginWithRecoveryCodeInputModel"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginWithRecoveryCodeInputModel"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginWithRecoveryCodeInputModel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returns LoginWithRecoveryCodeResult",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginWithRecoveryCodeResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginWithRecoveryCodeResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginWithRecoveryCodeResult"
                }
              }
            }
          },
          "423": {
            "description": "User is locked out of his account",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginWithRecoveryCodeResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginWithRecoveryCodeResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LoginWithRecoveryCodeResult"
                }
              }
            }
          },
          "400": {
            "description": "Default invalid model response"
          }
        }
      }
    },
    "/api/Auth/Logout": {
      "post": {
        "tags": [
          "Logout"
        ],
        "summary": "Logs user out",
        "description": "Will sanitize returnurl",
        "parameters": [
          {
            "name": "returnUrl",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Logout result",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LogoutResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LogoutResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.LogoutResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/Register": {
      "post": {
        "tags": [
          "Register"
        ],
        "summary": "",
        "parameters": [
          {
            "name": "returnUrl",
            "in": "query",
            "description": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.RegisterInputModel"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.RegisterInputModel"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.RegisterInputModel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.RegistrationResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.RegistrationResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.RegistrationResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/ResendEmailConfirmation": {
      "post": {
        "tags": [
          "ResendEmailConfirmation"
        ],
        "summary": "Resends email confirmation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ResendEmailConfirmationInputModel"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ResendEmailConfirmationInputModel"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ResendEmailConfirmationInputModel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    },
    "/api/Auth/ResetPassword": {
      "post": {
        "tags": [
          "ResetPassword"
        ],
        "summary": "Changes the password to a new one based on input",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ResetPasswordInputModel"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ResetPasswordInputModel"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ResetPasswordInputModel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              },
              "application/json": {
                "schema": {
                  "type": "string"
                }
              },
              "text/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/ReturnUrlInfo": {
      "post": {
        "tags": [
          "ReturnUrlInfo"
        ],
        "summary": "Returns information about client associated with returnurl",
        "description": "Use every time you need to check whether to redirect to returnurl",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ReturnUrlInfoInputModel"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ReturnUrlInfoInputModel"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ReturnUrlInfoInputModel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returns info on returnurl",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ReturnUrlInfo"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ReturnUrlInfo"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/VLO_BOARDS.Areas.Auth.ReturnUrlInfo"
                }
              }
            }
          },
          "400": {
            "description": "Default invalid model response",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Microsoft.AspNetCore.Mvc.ProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": { }
      },
      "VLO_BOARDS.Areas.Auth.ConfirmEmailInputModel": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "nullable": true
          },
          "code": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.ExternalLoginRegisterInputModel": {
        "required": [
          "email",
          "username"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email"
          },
          "username": {
            "type": "string",
            "format": "string"
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.ForgotPasswordInputModel": {
        "required": [
          "email"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email"
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.Login2FAInputModel": {
        "required": [
          "twoFactorCode"
        ],
        "type": "object",
        "properties": {
          "twoFactorCode": {
            "maxLength": 7,
            "minLength": 6,
            "type": "string",
            "format": "string"
          },
          "rememberMachine": {
            "type": "boolean"
          },
          "rememberMe": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.LoginInputModel": {
        "required": [
          "captchaResponse",
          "password",
          "rememberMe",
          "username"
        ],
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "format": "string"
          },
          "password": {
            "type": "string",
            "format": "password"
          },
          "rememberMe": {
            "type": "boolean"
          },
          "captchaResponse": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.LoginResult": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "nullable": true
          },
          "redirect": {
            "type": "boolean"
          },
          "returnUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.LoginWithRecoveryCodeInputModel": {
        "required": [
          "recoveryCode"
        ],
        "type": "object",
        "properties": {
          "recoveryCode": {
            "type": "string",
            "format": "string"
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.LoginWithRecoveryCodeResult": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "nullable": true
          },
          "redirect": {
            "type": "boolean"
          },
          "returnUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.LogoutResult": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "nullable": true
          },
          "redirect": {
            "type": "boolean"
          },
          "returnUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.RegisterInputModel": {
        "required": [
          "captchaResponse",
          "email",
          "password",
          "username"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email"
          },
          "password": {
            "maxLength": 100,
            "minLength": 6,
            "type": "string",
            "format": "password"
          },
          "username": {
            "maxLength": 20,
            "minLength": 0,
            "type": "string",
            "format": "string"
          },
          "captchaResponse": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.RegistrationResult": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.ResendEmailConfirmationInputModel": {
        "required": [
          "email"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email"
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.ResetPasswordInputModel": {
        "required": [
          "captchaResponse",
          "code",
          "email",
          "password"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email"
          },
          "password": {
            "maxLength": 100,
            "minLength": 6,
            "type": "string",
            "format": "password"
          },
          "confirmPassword": {
            "type": "string",
            "format": "password",
            "nullable": true
          },
          "code": {
            "type": "string"
          },
          "captchaResponse": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.ReturnUrlInfo": {
        "type": "object",
        "properties": {
          "safeReturnUrl": {
            "type": "string",
            "nullable": true
          },
          "validReturnUrl": {
            "type": "boolean"
          },
          "clientInfo": {
            "type": "boolean"
          },
          "clientName": {
            "type": "string",
            "nullable": true
          },
          "clientUri": {
            "type": "string",
            "nullable": true
          },
          "clientLogoUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "VLO_BOARDS.Areas.Auth.ReturnUrlInfoInputModel": {
        "required": [
          "returnUrl"
        ],
        "type": "object",
        "properties": {
          "returnUrl": {
            "type": "string",
            "format": "uri"
          }
        },
        "additionalProperties": false
      }
    }
  }
}